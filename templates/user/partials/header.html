{% load static %}
<style>
    /* dropdown franchise */

    body {

        background-color: #fff;
    }

    .layout.center-justified,
    .layout.center-center {
        justify-content: center;
    }


    .layout.center,
    .layout.center-center {
        align-items: center;
        border-radius: 10px;
        padding: 0px 6px;
    }

    .layout.vertical {
        flex-direction: column;
    }

    .list-search,
    .list-search .list-container {
        max-width: 510px;
    }

    .list-search {
        position: relative;
    }


    .layout.horizontal {
        flex-direction: row;
    }

    .list-search .drill-search {
        min-width: 330px;
        border: 1px solid rgba(112, 112, 112, 0.12);
    }

    .flwidth {
        /* width: 100%; */
    }

    .card-shadow {
        box-shadow: 0 0 10px 0 rgb(0 0 0 / 11%);
        background-color: #FFFFFF;
    }

    .layout {
        display: flex;
    }

    a,
    button,
    select,
    textarea,
    input[type="text"],
    input[type="number"],
    input[type="search"],
    input[type="tel"] {
        border: 0;
        outline: 0;
        -webkit-appearance: none;
    }


    .card {
        background-color: #FFFFFF;
    }

    .font16-14 {
        font-size: calc(0.875rem + (16 - 14) * ((100vw - 320px) / (1920 - 320)));
        line-height: calc(1.125rem + (24 - 18) * ((100vw - 320px) / (1920 - 320)));
    }

    .mar-r10 {
        margin-right: 10px;
    }

    .search-input {
        font-family: Montserrat, sans-serif;
    }



    /* Dropdown */

    .dropdown {
        display: inline-block;
        position: relative;
    }

    .dd-button {
        display: inline-block;
        border: 1px solid gray;
        border-radius: 4px;
        padding: 10px 30px 10px 20px;
        background-color: #f6f6f6;
        cursor: pointer;
        white-space: nowrap;
    }

    .dd-button:after {
        content: '';
        position: absolute;
        top: 50%;
        right: 15px;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 5px solid black;
    }

    .dd-button:hover {
        background-color: #eeeeee;
    }


    .dd-input {
        display: none;
    }

    .dd-menu {
        position: absolute;
        top: 100%;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 0;
        margin: 2px 0 0 0;
        box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.1);
        background-color: #ffffff;
        list-style-type: none;
    }

    .dd-input+.dd-menu {
        display: none;
    }

    .dd-input:checked+.dd-menu {
        display: block;
    }

    .dd-menu li {
        padding: 10px 20px;
        cursor: pointer;
        white-space: nowrap;
    }

    .dd-menu li:hover {
        background-color: #f6f6f6;
    }

    .dd-menu li a {
        display: block;
        margin: -10px -20px;
        padding: 10px 20px;
    }

    .dd-menu li.divider {
        padding: 0;
        border-bottom: 1px solid #cccccc;
    }

    /* end franchise dropdown */




    /* search */


    /* .input-search input {
        height: 55px;
        width: 100%;
        outline: none;
        border: none;
        border-radius: 5px;
        padding: 0 60px 0 20px;
        font-size: 18px;
        box-shadow: 0px 1px 5px rgba(0, 0, 0, 0.1);
    }

    .input-search.active input {
        border-radius: 5px 5px 0 0;
    }

    .input-search .autocom-box {
        padding: 0;
        opacity: 0;
        pointer-events: none;
        max-height: 280px;
        overflow-y: auto;
    }

    .input-search.active .autocom-box {
        padding: 10px 8px;
        opacity: 1;
        pointer-events: auto;
    }

    .autocom-box li {
        list-style: none;
        padding: 8px 12px;
        display: none;
        width: 100%;
        cursor: default;
        border-radius: 3px;
    }

    .input-search.active .autocom-box li {
        display: block;
    }

    .autocom-box li:hover {
        background: #644bff;
    }

    .input-search .icon {
        position: absolute;
        right: 0px;
        top: 0px;
        height: 55px;
        width: 55px;
        text-align: center;
        line-height: 55px;
        font-size: 20px;
        color: #644bff;
        cursor: pointer;
    } */
</style>




<header class="header-area header-style-1 header-height-2">
    
    <div class="header-middle header-middle-ptb-1 d-none d-lg-block">
        <div class="container">
           
        </div>
    </div>
    <div class="header-middle header-middle-ptb-1 d-none d-lg-block">
        <div class="container">
            <div class="header-wrap">
                <div class="logo logo-width-1">
                    <a href="{% url 'user:index' %}"><img src="{% static 'user/imgs/theme/EAZYFY-LOGO.png' %}"
                            alt="logo"></a>
                </div>
                <div class="header-right text-brand">
                    <div class="">
                        <form action="#">

                            <div class="flwidth layout vertical list-search text-center">
                                <a class="flwidth">
                                    <label for="list-search-input"
                                        class="layout horizontal center pad10 flwidth drill-search card-shadow radius-10">
                                        <span id="search-icon" class="search-icon layout center-center">
                                            <img alt="product_search" class=""
                                                src="{% static 'user/imgs/ProductSearch.svg' %}">
                                        </span>
                                        <input type="search" id="pd_list_search_input" autocomplete="off"
                                            placeholder="Search"
                                            class="font16-14 flwidth card mar-r10 search-input">
                                    </label>
                                </a>
                            </div>
                        </form>
                    </div>
                    <div class="header-action-right">
                        <div class="header-action-2">
                            <div class="header-action-icon-2">
                                
                                <div class="location" data-toggle="modal" data-target="#onloadModal">
                                    <i class="fa fa-location px-2"></i>
                
                                  <button style="color: #621299;background-color: #fff;"  data-bs-toggle="modal" data-bs-target="#onloadModal">America</button> 
                                </div>

                            </div>
                            <div class="header-action-icon-2">

                                {% if status == 1 %}
                                <div class="username p-2">
                                    <i class="fa fa-user px-2"></i>

                                    <h5 style="color: #621299;">{{ user.customer.name }}</h5>
                                </div>
                                {% else %}
                                <a href="{% url 'user:login' %}">
                                    <button class="btn  btn-login "><i
                                            class="fi-rs-shopping-bag mr-5"></i>Login</button>
                                </a>
                                {% endif %}

                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-bottom header-bottom-bg-color sticky-bar">
        <div class="container pt-5">
            <div class="header-wrap header-space-between position-relative">
                <div class="logo logo-width-1 d-block d-lg-none">
                    <a href="{% url 'user:index' %}">
                        <img src="{% static 'user/imgs/theme/EAZYFY .png' %}" alt="logo"></a>
                </div>
                <div class="mobile-search search-style-3 mobile-header-border">
                    <form action="#" class="d-lg-none">
                        <input type="search" id="pd_list_search_input" autocomplete="off" placeholder="Search.."
                            class="font16-14 flwidth card mar-r10 search-input">
                    </form>
                </div>
                <div class="header-nav d-none d-lg-flex">

                    <div class="main-menu main-menu-padding-1 main-menu-lh-2 d-none d-lg-block">
                        <nav>
                            <ul>
                                <li><a href="{% url 'user:index' %}" {% if is_index %} class="active" {% endif %}>Home
                                    </a>

                                </li>
                                <li>
                                    <a href="{% url 'user:sell' %}"
                                        class="{% if is_sellphone %} active {% endif %}">Sell phones <i
                                            class="fi-rs-angle-down"></i></a>
                                    <ul class="sub-menu">
                                        <li style="font-weight: bold;">Our top Brands</li>



                                        {% for brand in brand %}
                                        <li><a href="{% url 'user:shops' brand.id %}">{{ brand.name }}</a></li>

                                        {% endfor %}



                                    </ul>
                                </li>
                                <li class="position-static">
                                    <a href="{% url 'user:buyphone' %}"
                                        class="{% if is_buyphone %} active {% endif %}">Buy phones</i></a>
                                </li>
                                <li>
                                    <a href="{% url 'user:repair_phone' %}"
                                        class="{% if is_repair %} active {% endif %}">Repair Phone </i></a>
                                <li>
                                    <a href="{% url 'user:comingsoon' %}"
                                        class="{% if is_gadget %} active {% endif %}">Sell gadgets </i></a>
                                </li>
                                <li>
                                    <a href="{% url 'user:findnewgadget' %}"
                                        class="{% if is_newgadget %} active {% endif %}">Find new gadgets</a>
                                </li>
                                <li><a href="#">More <i class="fi-rs-angle-down"></i></a>
                                    <ul class="sub-menu">
                                        <li><a href="{% url 'user:about' %}">About Us</a></li>
                                        <li><a href="{% url 'user:contact' %}">Contact</a></li>
                                        <li><a href="{% url 'user:account' %}">My Account</a></li>


                                        {% if status == 1%}
                                        <li hidden><a href="{% url 'user:registration' %}">login/register</a></li>
                                        {% else %}
                                        <li><a href="{% url 'user:registration' %}">login/register</a></li>
                                        {% endif %}

                                        <li><a href="{% url 'user:privacy' %}">Privacy Policy</a></li>
                                        <li><a href="{% url 'user:terms-and-conditions' %}">Terms of Service</a></li>

{% if status == 1 %}
                                        <li><a href="{% url 'user:user-logout' %}">Logout</a></li>

{% endif %}

                                    </ul>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
                <!-- <div class="hotline d-none d-lg-block">
                        <p><i class="fi-rs-headset"></i><span>Hotline</span> 1900 - 888 </p>
                    </div> -->

                <div class="header-action-right d-block d-lg-none">

                    <div class="header-action-2">

                        <div class="header-action-icon-2 d-block d-lg-none">
                            <div class="burger-icon burger-icon-white">
                                <span class="burger-icon-top"></span>
                                <span class="burger-icon-mid"></span>
                                <span class="burger-icon-bottom"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>


<!-- mobile menu -->

<div class="mobile-header-active mobile-header-wrapper-style">
    <div class="mobile-header-wrapper-inner">
        <div class="mobile-header-top" style="background-color: #e4d9e9;">
            <div class="mobile-header-logo">

                <div class="location">
                    <i class="fa fa-location px-2"></i>

                    <h5 style="color: #621299;" data-bs-toggle="modal" data-bs-target="#onloadModal">America</h5>
                </div>
                
                <!-- <a href="{% url 'user:index' %}"><img src="{% static 'user/imgs/theme/EAZYFY .png' %}" alt="logo"></a> -->
            </div>
            <div class="mobile-menu-close close-style-wrap close-style-position-inherit">
                <button class="close-style search-close">
                    <i class="icon-top"></i>
                    <i class="icon-bottom"></i>
                </button>
            </div>
        </div>
        <div class="mobile-header-content-area">


      


            <div class="mobile-menu-wrap mobile-header-border">
                

                <div>
                    {% if status == 1 %}
                    <div class="username p-2">
                        <i class="fa fa-user px-2"></i>

                        <h5 style="color: #621299;">{{ user.customer.name|upper }}</h5>
                    </div>
                    {% else %}
                    <a href="{% url 'user:login' %}">
                        <button class="btn  btn-login "><i class="fi-rs-shopping-bag mr-5"></i>Login</button>
                    </a>
                    {% endif %}
                </div>

                <nav>
                    <ul class="mobile-menu">
                        <li class="menu-item-has-children"> <a href="{% url 'user:index' %}"><span
                                    class="menu-expand"></span>Home</a>

                        </li>

                        </li>
                        <li class="menu-item-has-children"> <a href="{% url 'user:sell' %}"><span
                                    class="menu-expand"></span>Sell Phone</a>

                        </li>

                        <li class="menu-item-has-children"><a href=""> <a href="{% url 'user:buyphone' %}"><span
                                        class="menu-expand"></span>Buy Phone</a>

                        </li>

                        <li class="menu-item-has-children"> <a href="{% url 'user:repair_phone' %}"><span
                                    class="menu-expand"></span>Repair Phone </a>

                        </li>

                        <li class="menu-item-has-children"> <a href="{% url 'user:comingsoon' %}"><span
                                    class="menu-expand"></span>Sell gadgets</a>

                        </li>

                        <li class="menu-item-has-children"> <a href="{% url 'user:comingsoon' %}"><span
                                    class="menu-expand"></span>Find New Gadget</a>



                        </li>

                        <li class="menu-item-has-children"> <a href="{% url 'user:about' %}"><span
                                    class="menu-expand"></span>About us</a>

                        </li>
                        <li class="menu-item-has-children"> <a href="{% url 'user:contact' %}"><span
                                    class="menu-expand"></span>contact</a>

                        </li>
                        <li class="menu-item-has-children"> <a href="{% url 'user:login' %}"><span
                                    class="menu-expand"></span>login & Register</a>

                        </li>


                        <li class="menu-item-has-children"> <a href="{% url 'user:privacy' %}"><span
                                    class="menu-expand"></span>privacy Policy</a>

                        </li>

                        <li class="menu-item-has-children"> <a href="{% url 'user:terms-and-conditions' %}"><span
                                    class="menu-expand"></span>terms of service</a>

                        </li>
                        <li class="menu-item-has-children"> <a href="{% url 'user:user-logout' %}"><span
                            class="menu-expand"></span>Logout </a>

                </li>

                    </ul>

 
 </nav>

                <!-- mobile menu end -->
            </div>

           



        </div>
    </div>
</div>




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />


<script>
    let $ = document
    let liContainer = $.querySelector(".autocom-box")
    let inputElem = $.querySelector(".live-search")
    let searchInput = $.querySelector(".input-search")
    const data = '{{data}}'
    console.log(data[0])

    let suggestions = [
        {% for i in brand %}
    `<a href = "{% url 'user:shops' i.id %}"> {{i.name}} </a>`,
        {% endfor %}
    
  ];

    inputElem.addEventListener("keyup", function () {
        let inputValue = inputElem.value
        if (inputValue) {
            searchInput.classList.add("active")
            let filteredWord = suggestions.filter(function (word) {
                return word.toLowerCase().includes(inputValue.toLowerCase())
                // return word.toLowerCase().startsWith(inputValue.toLowerCase())
            })

            suggestionWordsGenerator(filteredWord)

        } else {
            searchInput.classList.remove("active")
        }

    })

    let customListItem

    function suggestionWordsGenerator(wordArray) {
        let suggestionWord = wordArray.map(function (word) {
            return "<li>" + word + "</li>"
        }).join("")

        if (suggestionWord) {
            liContainer.innerHTML = suggestionWord
        } else {
            liContainer.innerHTML = "<li>" + inputElem.value + "</li>"
        }
        Select()
    }

    function Select() {
        let allListItems = liContainer.querySelectorAll("li")
        allListItems.forEach(function (wordItem) {
            wordItem.addEventListener("click", function (e) {
                inputElem.value = e.target.textContent
                searchInput.classList.remove("active")
            })
        })
    }
</script> 
